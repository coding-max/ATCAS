#!/usr/bin/python3

import json
from time import sleep


with open('./test_flights/969.json', 'w') as ea:
    json.dump("not_changed", ea)

flightpath = [{'latitude': -33.98458504091754, 'longitude': -54.83932125052393, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20t23:54:50z'},
    {'latitude': -33.958084396133856, 'longitude': -54.87126606965352, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:55:10Z'},
    {'latitude': -33.931583755467805, 'longitude': -54.9032009449979, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:55:30Z'},
    {'latitude': -33.905083118916814, 'longitude': -54.9351258895748, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:55:50Z'},
    {'latitude': -33.87858248647833, 'longitude': -54.96704091638556, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:56:10Z'},
    {'latitude': -33.852081858149795, 'longitude': -54.998946038415156, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:56:30Z'},
    {'latitude': -33.82558123392866, 'longitude': -55.03084126863224, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:56:50Z'},
    {'latitude': -33.79908061381238, 'longitude': -55.06272661998916, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:57:10Z'},
    {'latitude': -33.77257999779842, 'longitude': -55.09460210542201, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:57:30Z'},
    {'latitude': -33.74607938588423, 'longitude': -55.12646773785068, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:57:50Z'},
    {'latitude': -33.71957877806728, 'longitude': -55.15832353017882, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:58:10Z'},
    {'latitude': -33.69307817434505, 'longitude': -55.19016949529394, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:58:30Z'},
    {'latitude': -33.66657757471499, 'longitude': -55.22200564606741, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:58:50Z'},
    {'latitude': -33.64007697917461, 'longitude': -55.25383199535452, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:59:10Z'},
    {'latitude': -33.61357638772138, 'longitude': -55.285648555994456, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:59:30Z'},
    {'latitude': -33.58707580035277, 'longitude': -55.31745534081041, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-20T23:59:50Z'},
    {'latitude': -33.56057521706629, 'longitude': -55.34925236260954, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:00:10Z'},
    {'latitude': -33.534074637859426, 'longitude': -55.38103963418305, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:00:30Z'},
    {'latitude': -33.50757406272969, 'longitude': -55.4128171683062, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:00:50Z'},
    {'latitude': -33.48107349167458, 'longitude': -55.444584977738344, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:01:10Z'},
    {'latitude': -33.454572924691604, 'longitude': -55.47634307522298, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:01:30Z'},
    {'latitude': -33.42807236177826, 'longitude': -55.508091473487724, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:01:50Z'},
    {'latitude': -33.40157180293208, 'longitude': -55.53983018524441, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:02:10Z'},
    {'latitude': -33.375071248150576, 'longitude': -55.57155922318909, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:02:30Z'},
    {'latitude': -33.34857069743128, 'longitude': -55.603278600002064, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:02:50Z'},
    {'latitude': -33.32207015077171, 'longitude': -55.63498832834791, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:03:10Z'},
    {'latitude': -33.29556960816938, 'longitude': -55.666688420875516, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:03:30Z'},
    {'latitude': -33.26906906962186, 'longitude': -55.69837889021814, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:03:50Z'},
    {'latitude': -33.24256853512666, 'longitude': -55.73005974899339, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:04:10Z'},
    {'latitude': -33.21606800468134, 'longitude': -55.761731009803306, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:04:30Z'},
    {'latitude': -33.189567478283436, 'longitude': -55.79339268523436, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:04:50Z'},
    {'latitude': -33.16306695593051, 'longitude': -55.825044787857486, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:05:10Z'},
    {'latitude': -33.13656643762011, 'longitude': -55.85668733022812, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:05:30Z'},
    {'latitude': -33.11006592334981, 'longitude': -55.888320324886244, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:05:50Z'},
    {'latitude': -33.08356541311716, 'longitude': -55.91994378435639, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:06:10Z'},
    {'latitude': -33.05706490691971, 'longitude': -55.9515577211477, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:06:30Z'},
    {'latitude': -33.030564404755054, 'longitude': -55.98316214775393, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:06:50Z'},
    {'latitude': -33.004063906620765, 'longitude': -56.01475707665351, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:07:10Z'},
    {'latitude': -32.977563412514414, 'longitude': -56.046342520309516, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:07:30Z'},
    {'latitude': -32.951062922433586, 'longitude': -56.077918491169775, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:07:50Z'},
    {'latitude': -32.924562436375865, 'longitude': -56.10948500166685, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:08:10Z'},
    {'latitude': -32.898061954338864, 'longitude': -56.141042064218084, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:08:30Z'},
    {'latitude': -32.871561476320146, 'longitude': -56.17258969122563, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:08:50Z'},
    {'latitude': -32.845061002317316, 'longitude': -56.20412789507647, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:09:10Z'},
    {'latitude': -32.818560532327986, 'longitude': -56.23565668814246, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:09:30Z'},
    {'latitude': -32.79206006634975, 'longitude': -56.26717608278038, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:09:50Z'},
    {'latitude': -32.765559604380215, 'longitude': -56.298686091331895, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:10:10Z'},
    {'latitude': -32.73905914641701, 'longitude': -56.33018672612364, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:10:30Z'},
    {'latitude': -32.71255869245775, 'longitude': -56.36167799946726, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:10:50Z'},
    {'latitude': -32.686058242500046, 'longitude': -56.39315992365941, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:11:10Z'},
    {'latitude': -32.659557796541534, 'longitude': -56.424632510981766, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:11:30Z'},
    {'latitude': -32.63305735457984, 'longitude': -56.456095773701115, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:11:50Z'},
    {'latitude': -32.60655691661258, 'longitude': -56.48754972406934, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:12:10Z'},
    {'latitude': -32.58005648263742, 'longitude': -56.518994374323455, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:12:30Z'},
    {'latitude': -32.55355605265198, 'longitude': -56.550429736685636, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:12:50Z'},
    {'latitude': -32.527055626653905, 'longitude': -56.581855823363284, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:13:10Z'},
    {'latitude': -32.50055520464085, 'longitude': -56.61327264654899, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:13:30Z'},
    {'latitude': -32.47405478661046, 'longitude': -56.64468021842062, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:13:50Z'},
    {'latitude': -32.447554372560404, 'longitude': -56.67607855114131, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:14:10Z'},
    {'latitude': -32.42105396248833, 'longitude': -56.70746765685953, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:14:30Z'},
    {'latitude': -32.39455355639189, 'longitude': -56.73884754770907, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:14:50Z'}, #Collision place
    {'latitude': -32.36805315426877, 'longitude': -56.770218235809104, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:15:10Z'},
    {'latitude': -32.341552756116634, 'longitude': -56.8015797332642, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:15:30Z'},
    {'latitude': -32.31505236193315, 'longitude': -56.832932052164345, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:15:50Z'},
    {'latitude': -32.288551971716, 'longitude': -56.864275204585006, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:16:10Z'},
    {'latitude': -32.262051585462864, 'longitude': -56.89560920258713, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:16:30Z'},
    {'latitude': -32.235551203171426, 'longitude': -56.92693405821717, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:16:50Z'},
    {'latitude': -32.20905082483939, 'longitude': -56.95824978350712, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:17:10Z'},
    {'latitude': -32.18255045046443, 'longitude': -56.98955639047457, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:17:30Z'},
    {'latitude': -32.15605008004427, 'longitude': -57.02085389112268, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:17:50Z'},
    {'latitude': -32.12954971357657, 'longitude': -57.05214229744025, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:18:10Z'},
    {'latitude': -32.10304935105907, 'longitude': -57.083421621401754, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:18:30Z'},
    {'latitude': -32.07654899248944, 'longitude': -57.11469187496734, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:18:50Z'},
    {'latitude': -32.050048637865444, 'longitude': -57.145953070082875, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:19:10Z'},
    {'latitude': -32.023548287184745, 'longitude': -57.17720521867994, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:19:30Z'},
    {'latitude': -31.997047940445086, 'longitude': -57.20844833267593, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:19:50Z'},
    {'latitude': -31.970547597644188, 'longitude': -57.23968242397401, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:20:10Z'},
    {'latitude': -31.944047258779783, 'longitude': -57.27090750446319, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:20:30Z'},
    {'latitude': -31.917546923849592, 'longitude': -57.30212358601831, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:20:50Z'},
    {'latitude': -31.891046592851342, 'longitude': -57.33333068050014, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:21:10Z'},
    {'latitude': -31.86454626578278, 'longitude': -57.364528799755305, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:21:30Z'},
    {'latitude': -31.83804594264164, 'longitude': -57.39571795561639, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:21:50Z'},
    {'latitude': -31.811545623425673, 'longitude': -57.42689815990197, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:22:10Z'},
    {'latitude': -31.785045308132624, 'longitude': -57.45806942441657, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:22:30Z'},
    {'latitude': -31.758544996760243, 'longitude': -57.48923176095077, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:22:50Z'},
    {'latitude': -31.732044689306296, 'longitude': -57.52038518128119, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:23:10Z'},
    {'latitude': -31.705544385768516, 'longitude': -57.55152969717051, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:23:30Z'},
    {'latitude': -31.679044086144692, 'longitude': -57.58266532036754, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:23:50Z'},
    {'latitude': -31.65254379043257, 'longitude': -57.61379206260721, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:24:10Z'},
    {'latitude': -31.626043498629933, 'longitude': -57.64490993561059, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:24:30Z'},
    {'latitude': -31.599543210734552, 'longitude': -57.67601895108498, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:24:50Z'},
    {'latitude': -31.5730429267442, 'longitude': -57.70711912072384, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:25:10Z'},
    {'latitude': -31.546542646656658, 'longitude': -57.7382104562069, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:25:30Z'},
    {'latitude': -31.520042370469707, 'longitude': -57.769292969200166, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:25:50Z'},
    {'latitude': -31.49354209818113, 'longitude': -57.800366671355924, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:26:10Z'},
    {'latitude': -31.46704182978874, 'longitude': -57.831431574312774, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:26:30Z'},
    {'latitude': -31.440541565290307, 'longitude': -57.86248768969567, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:26:50Z'},
    {'latitude': -31.41404130468364, 'longitude': -57.89353502911594, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:27:10Z'},
    {'latitude': -31.387541047966522, 'longitude': -57.92457360417131, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:27:30Z'},
    {'latitude': -31.361040795136788, 'longitude': -57.955603426445954, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:27:50Z'},
    {'latitude': -31.33454054619222, 'longitude': -57.986624507510484, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:28:10Z'},
    {'latitude': -31.30804030113066, 'longitude': -58.01763685892198, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:28:30Z'},
    {'latitude': -31.2815400599499, 'longitude': -58.048640492224045, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:28:50Z'},
    {'latitude': -31.25503982264777, 'longitude': -58.07963541894683, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:29:10Z'},
    {'latitude': -31.228539589222084, 'longitude': -58.11062165060702, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:29:30Z'},
    {'latitude': -31.202039359670668, 'longitude': -58.14159919870792, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:29:50Z'},
    {'latitude': -31.17553913399135, 'longitude': -58.1725680747394, 'altitude': 37000, 'speed': 500, 'truck': 315, 'time': '2021-10-21T00:30:10Z'}
]

recorrida = 0
for data in flightpath:
    with open("./test_flights/969.json", 'r') as f:
        stat = json.load(f)
    if data["altitude"] - 333 * recorrida > 35003 and stat == "changed":
        recorrida += 1
    data["altitude"] -= 333 * recorrida
    with open('./test_flights/IB969.json', 'w') as outfile:
        json.dump(data, outfile)
    print("tick {:}, from flight 2, at {:}".format(data["time"], data["altitude"]))
    sleep(20)

