#!/usr/bin/python3

import json
from time import sleep


with open('./test_flights/420.json', 'w') as ea:
    json.dump("not_changed", ea)
ea.close() 

flightpath = [{'latitude': -33.96063170552034, 'longitude': -58.67340249065095, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20t23:54:50z'},
    {'latitude': -33.9341310644586, 'longitude': -58.641466660050355, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:55:10Z'},
    {'latitude': -33.907630427512174, 'longitude': -58.60954076146782, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:55:30Z'},
    {'latitude': -33.88112979467849, 'longitude': -58.57762478190044, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:55:50Z'},
    {'latitude': -33.854629165955004, 'longitude': -58.54571870836166, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:56:10Z'},
    {'latitude': -33.82812854133917, 'longitude': -58.51382252788126, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:56:30Z'},
    {'latitude': -33.80162792082842, 'longitude': -58.48193622750532, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:56:50Z'},
    {'latitude': -33.77512730442024, 'longitude': -58.4500597942962, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:57:10Z'},
    {'latitude': -33.74862669211208, 'longitude': -58.41819321533246, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:57:30Z'},
    {'latitude': -33.7221260839014, 'longitude': -58.386336477708866, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:57:50Z'},
    {'latitude': -33.69562547978568, 'longitude': -58.35448956853637, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:58:10Z'},
    {'latitude': -33.669124879762386, 'longitude': -58.32265247494205, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:58:30Z'},
    {'latitude': -33.64262428382901, 'longitude': -58.290825184069085, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:58:50Z'},
    {'latitude': -33.61612369198302, 'longitude': -58.259007683076725, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:59:10Z'},
    {'latitude': -33.58962310422191, 'longitude': -58.22719995914027, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:59:30Z'},
    {'latitude': -33.563122520543146, 'longitude': -58.19540199945098, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-20T23:59:50Z'},
    {'latitude': -33.53662194094426, 'longitude': -58.163613791216136, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:00:10Z'},
    {'latitude': -33.510121365422734, 'longitude': -58.13183532165896, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:00:30Z'},
    {'latitude': -33.483620793976065, 'longitude': -58.100066578018556, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:00:50Z'},
    {'latitude': -33.45712022660178, 'longitude': -58.06830754754992, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:01:10Z'},
    {'latitude': -33.43061966329737, 'longitude': -58.03655821752389, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:01:30Z'},
    {'latitude': -33.40411910406035, 'longitude': -58.00481857522713, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:01:50Z'},
    {'latitude': -33.37761854888825, 'longitude': -57.97308860796206, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:02:10Z'},
    {'latitude': -33.35111799777858, 'longitude': -57.9413683030469, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:02:30Z'},
    {'latitude': -33.32461745072887, 'longitude': -57.909657647815536, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:02:50Z'},
    {'latitude': -33.29811690773666, 'longitude': -57.877956629617564, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:03:10Z'},
    {'latitude': -33.271616368799485, 'longitude': -57.84626523581824, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:03:30Z'},
    {'latitude': -33.24511583391487, 'longitude': -57.81458345379844, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:03:50Z'},
    {'latitude': -33.218615303080384, 'longitude': -57.78291127095465, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:04:10Z'},
    {'latitude': -33.192114776293536, 'longitude': -57.751248674698886, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:04:30Z'},
    {'latitude': -33.165614253551915, 'longitude': -57.719595652458715, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:04:50Z'},
    {'latitude': -33.13911373485305, 'longitude': -57.68795219167724, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:05:10Z'},
    {'latitude': -33.1126132201945, 'longitude': -57.65631827981297, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:05:30Z'},
    {'latitude': -33.08611270957384, 'longitude': -57.6246939043399, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:05:50Z'},
    {'latitude': -33.059612202988625, 'longitude': -57.59307905274739, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:06:10Z'},
    {'latitude': -33.03311170043644, 'longitude': -57.56147371254024, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:06:30Z'},
    {'latitude': -33.00661120191485, 'longitude': -57.529877871238554, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:06:50Z'},
    {'latitude': -32.98011070742144, 'longitude': -57.49829151637773, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:07:10Z'},
    {'latitude': -32.95361021695378, 'longitude': -57.46671463550851, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:07:30Z'},
    {'latitude': -32.92710973050944, 'longitude': -57.435147216196874, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:07:50Z'},
    {'latitude': -32.90060924808605, 'longitude': -57.403589246024005, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:08:10Z'},
    {'latitude': -32.87410876968118, 'longitude': -57.37204071258629, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:08:30Z'},
    {'latitude': -32.847608295292446, 'longitude': -57.340501603495284, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:08:50Z'},
    {'latitude': -32.821107824917426, 'longitude': -57.30897190637767, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:09:10Z'},
    {'latitude': -32.79460735855375, 'longitude': -57.27745160887525, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:09:30Z'},
    {'latitude': -32.768106896199, 'longitude': -57.2459406986449, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:09:50Z'},
    {'latitude': -32.741606437850805, 'longitude': -57.21443916335853, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:10:10Z'},
    {'latitude': -32.715105983506774, 'longitude': -57.18294699070306, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:10:30Z'},
    {'latitude': -32.68860553316454, 'longitude': -57.15146416838041, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:10:50Z'},
    {'latitude': -32.66210508682172, 'longitude': -57.11999068410744, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:11:10Z'},
    {'latitude': -32.63560464447595, 'longitude': -57.088526525615954, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:11:30Z'},
    {'latitude': -32.60910420612485, 'longitude': -57.057071680652626, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:11:50Z'},
    {'latitude': -32.58260377176606, 'longitude': -57.02562613697902, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:12:10Z'},
    {'latitude': -32.55610334139722, 'longitude': -56.99418988237152, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:12:30Z'},
    {'latitude': -32.52960291501597, 'longitude': -56.96276290462133, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:12:50Z'},
    {'latitude': -32.50310249261997, 'longitude': -56.93134519153442, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:13:10Z'},
    {'latitude': -32.47660207420686, 'longitude': -56.8999367309315, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:13:30Z'},
    {'latitude': -32.450101659774305, 'longitude': -56.86853751064804, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:13:50Z'},
    {'latitude': -32.42360124931995, 'longitude': -56.83714751853415, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:14:10Z'},
    {'latitude': -32.39710084284147, 'longitude': -56.805766742454644, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:14:30Z'}, #collision place
    {'latitude': -32.37060044033652, 'longitude': -56.77439517028893, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:14:50Z'},
    {'latitude': -32.34410004180277, 'longitude': -56.74303278993105, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:15:10Z'},
    {'latitude': -32.31759964723791, 'longitude': -56.711679589289595, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:15:30Z'},
    {'latitude': -32.29109925663962, 'longitude': -56.68033555628772, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:15:50Z'},
    {'latitude': -32.264598870005564, 'longitude': -56.64900067886309, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:16:10Z'},
    {'latitude': -32.23809848733343, 'longitude': -56.617674944967845, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:16:30Z'},
    {'latitude': -32.211598108620905, 'longitude': -56.58635834256861, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:16:50Z'},
    {'latitude': -32.18509773386568, 'longitude': -56.55505085964642, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:17:10Z'},
    {'latitude': -32.158597363065475, 'longitude': -56.523752484196706, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:17:30Z'},
    {'latitude': -32.13209699621796, 'longitude': -56.4924632042293, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:17:50Z'},
    {'latitude': -32.10559663332086, 'longitude': -56.461183007768355, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:18:10Z'},
    {'latitude': -32.07909627437186, 'longitude': -56.42991188285235, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:18:30Z'},
    {'latitude': -32.05259591936868, 'longitude': -56.39864981753406, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:18:50Z'},
    {'latitude': -32.026095568309046, 'longitude': -56.3673967998805, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:19:10Z'},
    {'latitude': -31.999595221190667, 'longitude': -56.33615281797294, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:19:30Z'},
    {'latitude': -31.973094878011263, 'longitude': -56.30491785990682, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:19:50Z'},
    {'latitude': -31.94659453876857, 'longitude': -56.273691913791794, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:20:10Z'},
    {'latitude': -31.920094203460305, 'longitude': -56.24247496775165, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:20:30Z'},
    {'latitude': -31.89359387208421, 'longitude': -56.21126700992428, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:20:50Z'},
    {'latitude': -31.86709354463801, 'longitude': -56.18006802846168, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:21:10Z'},
    {'latitude': -31.84059322111946, 'longitude': -56.14887801152993, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:21:30Z'},
    {'latitude': -31.814092901526294, 'longitude': -56.11769694730912, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:21:50Z'},
    {'latitude': -31.787592585856267, 'longitude': -56.08652482399336, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:22:10Z'},
    {'latitude': -31.761092274107128, 'longitude': -56.05536162979073, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:22:30Z'},
    {'latitude': -31.734591966276618, 'longitude': -56.02420735292328, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:22:50Z'},
    {'latitude': -31.708091662362502, 'longitude': -55.99306198162698, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:23:10Z'},
    {'latitude': -31.68159136236256, 'longitude': -55.961925504151694, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:23:30Z'},
    {'latitude': -31.65509106627454, 'longitude': -55.93079790876116, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:23:50Z'},
    {'latitude': -31.628590774096217, 'longitude': -55.899679183732964, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:24:10Z'},
    {'latitude': -31.60209048582535, 'longitude': -55.86856931735851, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:24:30Z'},
    {'latitude': -31.575590201459732, 'longitude': -55.837468297942976, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:24:50Z'},
    {'latitude': -31.54908992099713, 'longitude': -55.80637611380533, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:25:10Z'},
    {'latitude': -31.522589644435342, 'longitude': -55.77529275327825, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:25:30Z'},
    {'latitude': -31.496089371772154, 'longitude': -55.74421820470815, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:25:50Z'},
    {'latitude': -31.469589103005333, 'longitude': -55.71315245645509, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:26:10Z'},
    {'latitude': -31.443088838132702, 'longitude': -55.68209549689282, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:26:30Z'},
    {'latitude': -31.416588577152037, 'longitude': -55.651047314408686, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:26:50Z'},
    {'latitude': -31.390088320061164, 'longitude': -55.62000789740366, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:27:10Z'},
    {'latitude': -31.36358806685786, 'longitude': -55.58897723429228, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:27:30Z'},
    {'latitude': -31.33708781753995, 'longitude': -55.557955313502625, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:27:50Z'},
    {'latitude': -31.31058757210524, 'longitude': -55.52694212347631, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:28:10Z'},
    {'latitude': -31.284087330551532, 'longitude': -55.495937652668424, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:28:30Z'},
    {'latitude': -31.257587092876673, 'longitude': -55.46494188954755, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:28:50Z'},
    {'latitude': -31.23108685907846, 'longitude': -55.4339548225957, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:29:10Z'},
    {'latitude': -31.20458662915473, 'longitude': -55.4029764403083, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:29:30Z'},
    {'latitude': -31.17808640310331, 'longitude': -55.37200673119416, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:29:50Z'},
    {'latitude': -31.15158618092204, 'longitude': -55.34104568377546, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:30:10Z'},
    {'latitude': -31.125085962608747, 'longitude': -55.310093286587716, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:30:30Z'},
    {'latitude': -31.098585748161263, 'longitude': -55.27914952817975, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:30:50Z'},
    {'latitude': -31.07208553757745, 'longitude': -55.24821439711368, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:31:10Z'},
    {'latitude': -31.04558533085514, 'longitude': -55.21728788196488, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:31:30Z'},
    {'latitude': -31.01908512799219, 'longitude': -55.186369971321945, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:31:50Z'},
    {'latitude': -30.992584928986464, 'longitude': -55.15546065378667, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:32:10Z'},
    {'latitude': -30.9660847338358, 'longitude': -55.12455991797406, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:32:30Z'},
    {'latitude': -30.939584542538064, 'longitude': -55.09366775251227, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:32:50Z'},
    {'latitude': -30.91308435509111, 'longitude': -55.06278414604255, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:33:10Z'},
    {'latitude': -30.886584171492828, 'longitude': -55.0319090872193, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:33:30Z'},
    {'latitude': -30.860083991741075, 'longitude': -55.00104256470995, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:33:50Z'},
    {'latitude': -30.833583815833727, 'longitude': -54.97018456719503, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:34:10Z'},
    {'latitude': -30.807083643768653, 'longitude': -54.93933508336806, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:34:30Z'},
    {'latitude': -30.780583475543743, 'longitude': -54.908494101935574, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:34:50Z'},
    {'latitude': -30.754083311156876, 'longitude': -54.8776616116171, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:35:10Z'},
    {'latitude': -30.72758315060595, 'longitude': -54.846837601145076, 'altitude': 37000, 'speed': 500, 'truck': 45, 'time': '2021-10-21T00:35:30Z'}
]

recorrida = 0
for data in flightpath:
    with open("./test_flights/420.json", 'r') as f:
        stat = json.load(f)
    if data["altitude"] - 333 * recorrida > 35003 and stat == "changed":
        recorrida += 1
    data["altitude"] -= 333 * recorrida
    with open('./test_flights/IB420.json', 'w') as outfile:
        json.dump(data, outfile)
    print("tick {:}, from flight 1, at {:}".format(data["time"], data["altitude"]))
    sleep(20)

